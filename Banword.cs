using System.Text.RegularExpressions;

namespace TwitchChatBot
{
    class Banword
    {

        //Тот самый список слов 
        public List<string> banList = new List<string>()
        {
               "ниггер", "nigga", "nigger", "негр",
               "чурка", "хачик", "черножопый", "чурки",
               "жид",
               "косоглазый", "китаец", "азиат", // в уничижительном смысле, требуется контекст
               "ватник", "хохол", "кацап", "укроп", "москаль", "пиндос",
               "унтерменш", "куколд",
               "пидор", "гомик", "петух", // как оскорбление
               "дырявый", "педик",
               "транс", "трансвестит", "фембой", // в уничижительном смысле
               "лесба",
                "инвалид", // как оскорбление
                "аутист", "шизик", // в уничижительном смысле

                // Угрозы / Призывы к насилию / Селфхарм
                "изнасиловать", "изнасилование", "rape",
                "суицид", "самоубийство", "самоповреждение", "селфхарм",
                "адрес", // попытка деанонимизации
                "dox", "doxing", "деанон",
                "колумбайн", "террорист", "терроризм",

                // Нецензурная лексика (агрессивная / общая)
                "пидорас",

                // Спам / Реклама / Мошенничество
                "фолловь меня", "подпишись на меня", "мой канал", "мой тг",
                "скам", "мошенничество", "фишинг",

                // Шокирующий / Запрещенный контент (NSFW, наркотики и т.д.)
                "наркотики", "наркота", "кокс", "трава", "мефедрон", "крэк", "кокаин", "героин",
                "mdma", "лсд",
                "gore",
                "nudes", "нюдесы", "голые фото",
                "закладки", "продам закладки",
                "казино", "азартные игры",
                "кардинг", "Будешь извиняться"
        };
        public Banword()
        {
            Console.WriteLine("Модуль Бан ворд подключён");
        }

        public bool ContainsBannedWord(string message)
        {
            if (string.IsNullOrWhiteSpace(message))
                return false;

            string lowerMessage = message.ToLower();

            // Разбиваем сообщение на слова, игнорируя знаки препинания
            var words = Regex.Matches(lowerMessage, @"\b[\p{L}\p{N}_]+\b")
                             .Cast<Match>()
                             .Select(m => m.Value)
                             .ToList();

            foreach (string word in words)
            {
                if (banList.Contains(word))
                    return true;
            }

            return false;
        }
    }
}
